---
description: Require unit tests for all changes and ensure build passes
alwaysApply: true
---

# Unit Tests and Build

When making code changes, follow these requirements:

## Unit Tests

- **Write unit tests** for all new or modified behavior.
- Place all tests in a `__tests__` directory (e.g., `src/components/__tests__/Component.test.tsx`).
- Use Vitest and React Testing Library (already configured in this project).
- Cover both happy paths and relevant edge cases.

## Verify Tests Pass

- Run `npm run test` before considering changes complete.
- Fix any failing tests; do not leave broken tests in the codebase.

## Build Verification

- Run `npm run build` before finishing work.
- The build runs tests first, then `next build`.
- **Correct all warnings and errors** from the build output.
- Do not leave build warnings or errors unresolved.

## Summary

1. Write unit tests for all changes.
2. Run `npm run test` and ensure all tests pass.
3. Run `npm run build` and fix any warnings or errors.
